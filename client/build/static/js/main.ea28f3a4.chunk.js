(this.webpackJsonpbookssearchgoogle=this.webpackJsonpbookssearchgoogle||[]).push([[0],{24:function(e,t,a){e.exports=a(54)},47:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(21),o=a.n(r),c=a(22),s=a(1),i=a(8),m=a.n(i);var u=function(e){return m.a.get("https://www.googleapis.com/books/v1/volumes?q="+e)},d=function(e){return m.a.post("/api/books",e)},h=function(){return m.a.get("/api/books")},E=function(e){return m.a.delete("/api/books/"+e)};function v({fluid:e,children:t}){return l.a.createElement("div",{className:"container".concat(e?"-fluid":"")},t)}function p({fluid:e,children:t}){return l.a.createElement("div",{className:"row".concat(e?"-fluid":"")},t)}function g({size:e,children:t}){return l.a.createElement("div",{className:e.split(" ").map(e=>"col-"+e).join(" ")},t)}a(47);var b=function({children:e}){return l.a.createElement("div",{className:"jumbotron jumbotron-fluid d-flex align-items-center"},l.a.createElement("div",{className:"container text-center"},e))};var f=function(){return l.a.createElement("div",{className:"input-group col-12"},l.a.createElement("input",{className:"form-control py-2 border-right-0 border",type:"search",placeholder:"Search Book Term",id:"searchbar"}),l.a.createElement("span",{className:"input-group-append"},l.a.createElement("button",{className:"btn btn-outline-secondary border-left-0 border",type:"button"},l.a.createElement("i",{className:"fa fa-search"}))))};var k=function(e){return l.a.createElement("div",{className:"form-group row mt-2 mx-auto"},l.a.createElement("div",{className:"col-12"},l.a.createElement("button",{type:"submit",className:"btn btn-secondary",id:"searchbutton",onClick:t=>e.searchBooks(t)},"Search Books")))};var N=function({children:e}){return l.a.createElement("div",{className:"container"},l.a.createElement("form",{className:"form-inline"},e))};var B=function(e){return l.a.createElement("div",null,l.a.createElement(N,null,l.a.createElement(f,null),l.a.createElement(k,{searchBooks:e.searchBooks})),l.a.createElement("hr",null))};function y(e){return l.a.createElement("div",null,l.a.createElement("div",{className:"row",id:e.title+" Card"},l.a.createElement("div",{className:"col-2"},l.a.createElement("img",{src:e.image,alt:"Image of"+e.title})),l.a.createElement("div",{className:"col-9"},l.a.createElement("div",{className:"row"},l.a.createElement("h2",{className:"col-8"},e.title," by ",e.author)),l.a.createElement("p",null,e.description)),l.a.createElement("div",{className:"col-1"},l.a.createElement("a",{href:e.link,target:"_blank",rel:"noopener noreferrer"},l.a.createElement("button",{className:"btn btn-primary"},"Detail")),l.a.createElement("button",{className:"btn btn-outline-danger btn-sm",id:e.id,onClick:()=>e.saveBook(e.id)},l.a.createElement("i",{className:"far fa-heart"})))),l.a.createElement("hr",null))}var S=function(e){return 0===e.results.length?l.a.createElement("div",null,l.a.createElement("div",{id:"ResultsWrapper"},l.a.createElement("h1",null," Search Results ")),l.a.createElement("hr",null)):l.a.createElement("div",{id:"ResultsWrapper"},l.a.createElement("h1",null," Search Results "),l.a.createElement("hr",null),e.results.map(t=>l.a.createElement(y,{key:t.id,id:t.id,image:t.image,title:t.title,author:t.authors,description:t.description,link:t.link,saveBook:e.saveBook})))};class w extends n.Component{constructor(...e){super(...e),this.state={search:"",results:[],error:""},this.searchBooks=e=>{e.preventDefault();let t=document.getElementById("searchbar").value;u(t).then(e=>{let t=e.data.items;t=t.map(e=>{let t={id:e.id,title:e.volumeInfo.title,authors:e.volumeInfo.authors,image:e.volumeInfo.imageLinks.thumbnail,description:e.volumeInfo.description,link:e.volumeInfo.infoLink};return console.log(t),t}),console.log(t),this.setState({results:t})}).catch(e=>console.log(e))},this.saveBook=e=>{console.log(e),console.log(this.state.results);let t=this.state.results.filter(t=>t.id===e);console.log(t),d(t[0]).then(console.log(t[0])).catch(e=>console.log(e))}}render(){return l.a.createElement(v,{fluid:!0},l.a.createElement(b,null,l.a.createElement("h1",{className:"text-white"},"Book Search Powered by Google API")),l.a.createElement(v,null,l.a.createElement(B,{searchBooks:this.searchBooks}),l.a.createElement(S,{results:this.state.results,saveBook:this.saveBook})))}}var x=w;function C(e){return l.a.createElement("div",null,l.a.createElement("div",{className:"row",id:e.id+"Card"},l.a.createElement("div",{className:"col-2"},l.a.createElement("img",{src:e.image,alt:"Image of"+e.title})),l.a.createElement("div",{className:"col-9"},l.a.createElement("div",{className:"row"},l.a.createElement("h2",{className:"col-8"},e.title," by ",e.author)),l.a.createElement("p",null,e.description)),l.a.createElement("div",{className:"col-1"},l.a.createElement("a",{href:e.link,target:"_blank",rel:"noopener noreferrer"},l.a.createElement("button",{className:"btn btn-primary"},"Detail")),l.a.createElement("button",{className:"btn btn-danger",id:e.id,onClick:t=>{e.deleteBook(t.target.id)}},"Delete"))),l.a.createElement("hr",null))}var I=function(e){return 0===e.saved.length?l.a.createElement("div",{id:"SavedBooks"},l.a.createElement("h1",null,"You have not choosen any book")):l.a.createElement("div",{id:"SavedBooks"},l.a.createElement("h1",null,"Your selections"),l.a.createElement("hr",null),e.saved.map(t=>l.a.createElement(C,{key:t._id,id:t._id,image:t.image,title:t.title,author:t.authors,description:t.description,link:t.link,deleteBook:e.removeBook})))};class j extends n.Component{constructor(...e){super(...e),this.state={results:[]},this.getBooks=()=>{h().then(e=>this.setState({results:e.data})).catch(e=>console.log(e))},this.removeBook=e=>{E(e).then(()=>{this.getBooks()}).catch(e=>console.log(e))}}componentDidMount(){this.getBooks()}render(){return l.a.createElement(v,{fluid:!0},l.a.createElement(b,null,l.a.createElement("h1",{className:"text-white"},"Book Search Powered by Google API"),l.a.createElement("h2",{className:"text-white"},"Saved Books")),l.a.createElement(v,null,l.a.createElement(I,{saved:this.state.results,removeBook:this.removeBook})))}}var D=j;var _=function(){return l.a.createElement(v,{fluid:!0},l.a.createElement(p,null,l.a.createElement(g,{size:"md-12"},l.a.createElement(b,null,l.a.createElement("h1",null,"404 Page Not Found"),l.a.createElement("h1",null,l.a.createElement("span",{role:"img","aria-label":"Face With Rolling Eyes Emoji"},"\ud83d\ude44"))))))};var P=function(){return l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},l.a.createElement("a",{className:"navbar-brand",href:"/"},"Books Search by Google"),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},l.a.createElement("ul",{className:"navbar-nav mr-auto"},l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",href:"/"},"Search")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",href:"/saved"},"Save")))))};var R=function(){return l.a.createElement("footer",{className:"footer mt-auto py-3"},l.a.createElement("div",{className:"container"},l.a.createElement("hr",null),l.a.createElement("div",{className:"centered",id:"copyright"},"\xa9 ",(new Date).getFullYear()," ",l.a.createElement("a",{href:"https://github.com/johnnyboysydney/BooksSearchGoogle/blob/master/LICENSE",rel:"noopener noreferrer",target:"_blank"},"Copyright")," ",l.a.createElement("span",null,"|")," All rights reserved ",l.a.createElement("span",null,"|")," ",l.a.createElement("a",{href:"https://github.com/johnnyboysydney",rel:"noopener noreferrer",target:"_blank"},"John Merchan"))))};var G=function(){return l.a.createElement(c.a,null,l.a.createElement("div",null,l.a.createElement(P,null),l.a.createElement(s.c,null,l.a.createElement(s.a,{exact:!0,path:"/",component:x}),l.a.createElement(s.a,{exact:!0,path:"/saved",component:D}),l.a.createElement(s.a,{exact:!0,path:"/saved/:id",component:D}),l.a.createElement(s.a,{component:_})),l.a.createElement(R,null)))};a(53);o.a.render(l.a.createElement(G,null),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.ea28f3a4.chunk.js.map